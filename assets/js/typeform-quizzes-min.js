!function(e){"use strict";const i={config:{sliderId:null,colsDesktop:6,colsTablet:3,colsMobile:2,gap:20,paginationDotColor:"#cfcfcf",paginationActiveDotColor:"#111111",paginationDotSize:8,paginationDotGap:10},init:function(i){this.config=e.extend({},this.config,i),this.bindEvents(),this.initSlider()},bindEvents:function(){const i=this;e(document).on("click",".typeform-quizzes-slider-container .typeform-quiz-slide",(function(t){t.preventDefault(),i.handleQuizClick(e(this))})),e(document).on("click",".typeform-quizzes-slider-container .quiz-viewer-close",(function(e){e.preventDefault(),i.closeQuizViewer()})),e(document).on("click",".typeform-quizzes-slider-container .quiz-viewer-expand",(function(t){t.preventDefault(),i.toggleFullscreen(e(this))})),e(document).on("click",".typeform-quiz-viewer-container .quiz-viewer-expand",(function(t){t.preventDefault(),i.toggleFullscreen(e(this))})),e(document).on("keydown",(function(i){"Escape"===i.key&&(e(".typeform-quizzes-slider-container .quiz-viewer").hasClass("quiz-viewer-fullscreen")?e(".typeform-quizzes-slider-container .quiz-viewer-expand").click():e(".typeform-quiz-viewer-container").hasClass("quiz-viewer-fullscreen")&&e(".typeform-quiz-viewer-container .quiz-viewer-expand").click())}))},initSlider:function(){if(this.handleCSPErrors(),this.initArrowHoverEffects(),this.detectFontAwesome(),"undefined"!=typeof Swiper&&this.config.sliderId){const e=document.getElementById(this.config.sliderId);if(e&&e.swiper)return;new Swiper("#"+this.config.sliderId,{slidesPerView:this.config.colsDesktop,spaceBetween:this.config.gap,loop:!1,slidesPerGroup:this.config.colsDesktop,navigation:{nextEl:'.tfqrow-arrow[data-dir="next"]',prevEl:'.tfqrow-arrow[data-dir="prev"]'},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:this.config.colsMobile,spaceBetween:this.config.gap,slidesPerGroup:this.config.colsMobile},768:{slidesPerView:this.config.colsTablet,spaceBetween:this.config.gap,slidesPerGroup:this.config.colsTablet},1024:{slidesPerView:this.config.colsDesktop,spaceBetween:this.config.gap,slidesPerGroup:this.config.colsDesktop}},on:{init:function(){}}})}},handleQuizClick:function(e){const i=e.data("quiz-url"),t=e.data("quiz-title");if(i){e.closest(".typeform-quizzes-slider-container").find(".typeform-quiz-slide").removeClass("active"),e.addClass("active");let o=i;-1===o.indexOf("?")?o+="?embed=true&embed-hide-headers=true&embed-hide-footer=true":o+="&embed=true&embed-hide-headers=true&embed-hide-footer=true";const n=e.closest(".typeform-quizzes-slider-container");n.find(".quiz-viewer").length&&(n.find(".quiz-viewer-title").text(t),n.find("#quiz-iframe").attr("src",o)),this.updateSeparateViewers(i,t,o)}},updateSeparateViewers:function(i,t,o){e(".typeform-quiz-viewer-container").each((function(){const n=e(this),s=n.find(".quiz-viewer-title");s.length&&s.is(":visible")&&s.text(t);const r=n.find("#quiz-iframe");r.length&&r.attr("src",o);const a=n.find("#dev-notice a");a.length&&a.attr("href",i)}))},closeQuizViewer:function(){e(".typeform-quizzes-slider-container .quiz-viewer").hide(),e(".typeform-quizzes-slider-container #quiz-iframe").attr("src",""),e(".typeform-quiz-viewer-container").hide(),e(".typeform-quiz-viewer-container #quiz-iframe").attr("src","")},toggleFullscreen:function(i){let t=i.closest(".typeform-quizzes-slider-container").find(".quiz-viewer");t.length||(t=i.closest(".typeform-quiz-viewer-container"));const o=i.find("i");t.hasClass("quiz-viewer-fullscreen")?(t.removeClass("quiz-viewer-fullscreen"),o.removeClass("fa-compress").addClass("fa-expand"),i.attr("title","Expand to fullscreen"),e("body").css("overflow","")):(t.addClass("quiz-viewer-fullscreen"),o.removeClass("fa-expand").addClass("fa-compress"),i.attr("title","Exit fullscreen"),e("body").css("overflow","hidden"))},handleCSPErrors:function(){const e=document.getElementById("quiz-iframe");e&&e.addEventListener("error",(function(){const e=document.getElementById("dev-notice");e&&(e.style.display="block")}))},initArrowHoverEffects:function(){e(".typeform-quizzes-slider-container .tfqrow-arrow").each((function(){const i=e(this),t=i.data("bg-color"),o=i.data("hover-bg-color"),n=i.data("icon-color"),s=i.data("hover-icon-color"),r=i.find("i");t&&o&&(i.on("mouseenter",(function(){i.css("background-color",o),r.length&&s&&r.css("color",s)})),i.on("mouseleave",(function(){i.css("background-color",t),r.length&&n&&r.css("color",n)})))}))},detectFontAwesome:function(){const i=document.createElement("i");i.className="fa-solid fa-angle-left",i.style.position="absolute",i.style.left="-9999px",i.style.visibility="hidden",document.body.appendChild(i);const t=window.getComputedStyle(i).getPropertyValue("font-family"),o=t.includes("Font Awesome")||t.includes("FontAwesome");document.body.removeChild(i),o||(e(".typeform-quizzes-slider-container .tfqrow-arrow").addClass("fa-fallback"),e(".typeform-quizzes-slider-container .quiz-viewer-expand").addClass("fa-fallback"))}};e(document).ready((function(){const t=e(".typeform-quizzes-slider-container").first();if(t.length){const e={sliderId:t.find(".swiper").attr("id"),colsDesktop:parseInt(t.data("cols-desktop"))||6,colsTablet:parseInt(t.data("cols-tablet"))||3,colsMobile:parseInt(t.data("cols-mobile"))||2,gap:parseInt(t.data("gap"))||20,paginationDotColor:t.data("pagination-dot-color")||"#cfcfcf",paginationActiveDotColor:t.data("pagination-active-dot-color")||"#111111",paginationDotSize:parseInt(t.data("pagination-dot-size"))||8,paginationDotGap:parseInt(t.data("pagination-dot-gap"))||10};i.init(e)}})),void 0===window.TypeformQuizzesPlugin&&(window.TypeformQuizzesPlugin=i)}(jQuery);